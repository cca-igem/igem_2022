@import './variables'
@import './fonts'

::selection
    background: $color-accent
    color: $color-background

:root
    --font-size: 1.8rem
    --duration: .44s
    --duration-line: .84s

html
    font-size: 62.5%

body
    background: $color-background
    color: $color-text
    font-family: $font-family
    margin: 0
    padding: 0
    font-size: 1.6rem

*, *::before, *::after
    box-sizing: border-box

h1, h2, h3, h4, h5, h6
    margin: 0
    font-weight: 400
    font-family: $font-family-heading

h1
    font-size: 3.6rem

h2
    font-size: 2.8rem

    &.question
        font-size: 2.2rem

p
    margin: 0
    font-size: 1.8rem

a
    color: $color-text
    text-decoration: none

.wrapper
    width: 100%

.container
    width: 75%
    margin: 0 auto

.spacer
    margin: 18rem 0

footer
    height: 30rem
    width: 100%
    background: rgba(0,0,0,0.3)

///////// NAV ////////////

nav
    width: 100%
    position: absolute
    padding: 2rem 0
    display: flex
    z-index: 999
    justify-content: flex-end
    transition: all .3s ease
    
    &.filled
        background: $color-background
        border-bottom: 1px solid $color-text

    & > ul
        list-style: none
        padding: 0
        margin: 0

        & > li
            display: inline-flex
            font-size: 1.6rem
            margin-right: 8rem
            position: relative

            a, span
                cursor: pointer
                transition: all .2s ease
            & a:hover
                color: $color-text-light
            & span:hover
                color: $color-text-light

                // [name="chevron-down-outline"]
                //     color: $color-accent

            span
                display: table-cell
                vertical-align: middle

                [name="chevron-down-outline"]
                    color: $color-accent
                    font-size: 1.2rem
                    margin-left: .8rem
                    transition: all .2s ease

                    // display: none

            .submenu
                z-index: 999
                position: absolute
                top: 4.8rem
                background: $color-text-light
                list-style: none
                padding: 2rem 2.8rem
                display: flex
                flex-direction: column
                border-radius: 3px
                overflow: hidden
                clip-path: inset(0 0 100% 0)
                box-shadow: 1px 1px 8px #000
                transition: all .5s ease

                &.open
                    clip-path: inset(0 0 0 0)

                li
                    white-space: nowrap
                    &:not(:last-child)
                        margin-bottom: 1.6rem
                    a
                        color: $color-background
                        transition: all .2s ease
                        &:hover
                            color: $color-accent

///////// WIKI ////////////
.hero
    color: $color-text
    height: 70vh
    // margin-top: calc(4rem + 1em)
    position: relative
    overflow: hidden

    &-inner
        width: 100%
        height: 140%
        z-index: 1
        background-image: url("/static/assets/img/DSC_0845.JPG")
        background-size: cover
        background-position: 50% 30%

        &::after
            content: ''
            z-index: 2
            position: absolute
            background: rgba(0,0,0,0.5)
            width: 100%
            height: 100%

    h1
        position: absolute
        transform: translate(-50%, -50%)
        top: 50%
        left: 50%
        font-size: 4.8rem
        z-index: 3

.content
    display: flex

    &-inner
        flex: 8.5

    .sidebar
        flex: 1.5
        padding-left: 12rem
        &-inner
            padding: 10rem 0

        span
            opacity: 0.7
            text-transform: uppercase
            font-weight: 700
            font-size: 1.2rem
            letter-spacing: 2px
            display: block
            margin-bottom: 1.8rem

        ul
            list-style: none
            margin: 0
            padding: 0
            li
                font-size: 1.6rem
                margin-bottom: 1.4rem

                a
                    cursor: pointer
                    transition: all .2s ease
                    &:hover
                        color: $color-accent

.project
    margin: 10rem 0

    .header
        width: 100%
        display: flex
        justify-content: space-between
        align-items: flex-end

        h1
            line-height: 1em

        & > *
            opacity: 0
            transform: rotate(1.5deg) translateY(5rem)
            transition: opacity .6s cubic-bezier(.215,.61,.355,1),transform .6s cubic-bezier(.215,.61,.355,1)
            &.is-inview
                opacity: 1
                transform: none

        span
            text-transform: uppercase
            font-size: 1.8rem
            letter-spacing: .2rem
            transition-delay: .2s

    .divider
        height: .1rem
        width: 100%
        margin: 5rem 0
        transform: scaleX(0)
        transition: transform .6s cubic-bezier(.215,.61,.355,1)
        background: $color-text
        &.is-inview
            transform: scaleX(1)

    .container

        &-doc
            margin-bottom: 5rem
            iframe
                width: 100%
                height: 80rem
                // border: 2px solid $color-text
                opacity: 0
                transform: translateY(7rem)
                transition: opacity .6s cubic-bezier(.215,.61,.355,1),transform .6s cubic-bezier(.215,.61,.355,1)
                &.is-inview
                    opacity: 1
                    transform: none

        &-text
            margin-bottom: 5rem
            display: flex
            column-gap: 5rem

            & > *
                opacity: 0
                transform: translateY(5rem)
                transition: opacity .6s cubic-bezier(.215,.61,.355,1),transform .6s cubic-bezier(.215,.61,.355,1)
                &.is-inview
                    opacity: 1
                    transform: none

            h2
                flex: 3

            p
                flex: 7
                // margin-left: 3rem
                line-height: 1.8
                transition-delay: .1s

                span.link-main
                    display: flex
                    position: relative
                    align-items: center

                    & > svg
                        width: 1.8rem
                        fill: $color-text

                    a
                        margin-left: 0.8rem
                        position: relative
                        display: inline-block
                        position: relative
                        line-height: 1
                        color: inherit
                        div
                            overflow: hidden
                            &:first-child
                                display: flex
                                overflow: hidden
                                text-shadow: 0 1.8rem 0 $color-text
                            &:last-child
                                position: absolute
                                pointer-events: none
                                right: 0
                                left: 0
                                bottom: -.8rem
                                height: .5rem
                                svg
                                    display: block
                                    position: absolute
                                    right: 0
                                    top: 0
                                    width: 300%
                                    height: .5rem
                                    fill: none
                                    stroke: $color-accent
                                    stroke-width: 1.5px
                                    stroke-linecap: round
                                    // stroke-dasharray: 63.5px 128px
                                    // stroke-dashoffset: var(--line-offset, 190.25px)
                                    transform: translateX(var(--line-x)) translateZ(0)
                                    transition: transform var(--line-d, 0s), stroke-dashoffset var(--line-d, 0s)
                            span
                                display: block
                                backface-visibility: hidden
                                font-style: normal
                                transition: transform var(--duration) ease
                                transform: translateY(var(--m, 0))
                                $i: 1

                                @while $i < 12
                                    &:nth-child(#{$i})
                                        transition-delay: calc($i / 20) + s
                                        $i: $i + 1

                        &:hover
                            --m: calc(var(--font-size) * -1)
                            --line-d: var(--duration-line)
                            --line-x: 65.66%
                            --line-offset: 6.35rem
        &-img
            margin-bottom: 5rem
            display: grid
            column-gap: 1.6rem
            row-gap: 1.6rem

            &-two
                grid-template-columns: 1fr 1fr

            > .img-box
                height: 24rem
                position: relative
                background: #ccc
                border-radius: 2px
                overflow: hidden

                opacity: 0
                transform: translateY(5rem)
                transition: opacity .6s cubic-bezier(.215,.61,.355,1),transform .6s cubic-bezier(.215,.61,.355,1)
                &.is-inview
                    opacity: 1
                    transform: none

                .img
                    height: 100%
                    background-size: cover
        &-video
            display: grid
            grid-template-columns: 1fr 1fr
            column-gap: 2.6rem
            row-gap: 2.6rem

            &-block
                display: flex
                align-items: center
                video
                    border-radius: 2px
                    width: 100%
                    opacity: 0
                    transform: rotate(1.5deg) translateY(5rem)
                    transition: opacity .6s cubic-bezier(.215,.61,.355,1),transform .6s cubic-bezier(.215,.61,.355,1)
                    &.is-inview
                        opacity: 1
                        transform: none
